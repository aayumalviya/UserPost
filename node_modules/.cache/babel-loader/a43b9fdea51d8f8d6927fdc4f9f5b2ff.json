{"ast":null,"code":"// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\nimport Rails from \"@rails/ujs\";\nimport Turbolinks from \"turbolinks\";\nimport * as ActiveStorage from \"@rails/activestorage\";\nimport \"channels\";\nimport '../js/bootstrap_js_files.js';\n\nrequire(\"jquery\");\n\nRails.start();\nTurbolinks.start();\nActiveStorage.start();\n$(document).ready(function () {\n  if ($('.pagination').length) {\n    $(window).scroll(function () {\n      var url = $('.pagination .next_page').attr('href');\n\n      if (url && $(window).scrollTop() > $(document).height() - $(window).height() - 50) {\n        $('.pagination').text(\"Please Wait...\");\n        return $.getScript(url);\n      }\n    });\n    return $(window).scroll();\n  }\n});\nvar videos = document.getElementsByTagName(\"iframe\"),\n    fraction = 0.8;\n\nfunction checkScroll() {\n  for (var i = 0; i < videos.length; i++) {\n    var video = videos[i];\n    var x = 0,\n        y = 0,\n        w = video.width,\n        h = video.height,\n        r,\n        //right\n    b,\n        //bottom \n    visibleX,\n        visibleY,\n        visible,\n        parent;\n    parent = video;\n\n    while (parent && parent !== document.body) {\n      x += parent.offsetLeft;\n      y += parent.offsetTop;\n      parent = parent.offsetParent;\n    }\n\n    r = x + parseInt(w);\n    b = y + parseInt(h);\n    visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));\n    visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));\n    visible = visibleX * visibleY / (w * h);\n\n    if (visible > fraction) {\n      playVideo();\n    } else {\n      pauseVideo();\n    }\n  }\n}\n\n;\nvar tag = document.createElement('script');\ntag.src = \"https://www.youtube.com/iframe_api\";\nvar firstScriptTag = document.getElementsByTagName('script')[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag); // 3. This function creates an <iframe> (and YouTube player)\n//    after the API code downloads.\n\nvar player;\n\nfunction onYouTubeIframeAPIReady() {\n  player = new YT.Player('player', {\n    events: {\n      'onReady': onPlayerReady,\n      'onStateChange': onPlayerStateChange\n    }\n  });\n}\n\n; // 4. The API will call this function when the video player is ready.\n\nfunction onPlayerReady(event) {\n  window.addEventListener('scroll', checkScroll, false);\n  window.addEventListener('resize', checkScroll, false); //check at least once so you don't have to wait for scrolling for the    video to start\n\n  window.addEventListener('load', checkScroll, false);\n}\n\n;\n\nfunction onPlayerStateChange(event) {\n  if (event.data == YT.PlayerState.PLAYING) {//console.log(\"event played\");\n  } else {//console.log(\"event paused\");\n  }\n}\n\n;\n\nfunction stopVideo() {\n  player.stopVideo();\n}\n\n;\n\nfunction playVideo() {\n  player.playVideo();\n}\n\n;\n\nfunction pauseVideo() {\n  player.pauseVideo();\n}\n\n;","map":{"version":3,"names":["Rails","Turbolinks","ActiveStorage","require","start","$","document","ready","length","window","scroll","url","attr","scrollTop","height","text","getScript","videos","getElementsByTagName","fraction","checkScroll","i","video","x","y","w","width","h","r","b","visibleX","visibleY","visible","parent","body","offsetLeft","offsetTop","offsetParent","parseInt","Math","max","min","pageXOffset","innerWidth","pageYOffset","innerHeight","playVideo","pauseVideo","tag","createElement","src","firstScriptTag","parentNode","insertBefore","player","onYouTubeIframeAPIReady","YT","Player","events","onPlayerReady","onPlayerStateChange","event","addEventListener","data","PlayerState","PLAYING","stopVideo"],"sources":["/home/ubuntu6/aayushi/you-app/app/frontend/packs/application.js"],"sourcesContent":["// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n\nimport Rails from \"@rails/ujs\"\nimport Turbolinks from \"turbolinks\"\nimport * as ActiveStorage from \"@rails/activestorage\"\nimport \"channels\"\nimport '../js/bootstrap_js_files.js'  \nrequire(\"jquery\")\n\nRails.start()\nTurbolinks.start()\nActiveStorage.start()\n$(document).ready(function() {\n    if ($('.pagination').length) {\n      $(window).scroll(function() {\n        var url = $('.pagination .next_page').attr('href');\n        if (url && $(window).scrollTop() > $(document).height() - $(window).height() - 50) {\n          $('.pagination').text(\"Please Wait...\");\n          return $.getScript(url);\n        }\n      });\n      return $(window).scroll();\n    }\n  });\n\nvar videos = document.getElementsByTagName(\"iframe\"), fraction = 0.8;\n\nfunction checkScroll() {\n\n  for(var i = 0; i < videos.length; i++) {\n    var video = videos[i];\n\n    var x = 0,\n        y = 0,\n        w = video.width,\n        h = video.height,\n        r, //right\n        b, //bottom \n        visibleX, visibleY, visible,\n        parent;\n\n    \n    parent = video;\n    while (parent && parent !== document.body) {\n      x += parent.offsetLeft;\n      y += parent.offsetTop;\n      parent = parent.offsetParent;\n    }\n\n    r = x + parseInt(w);\n    b = y + parseInt(h);\n   \n\n    visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));\n    visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));\n    \n\n    visible = visibleX * visibleY / (w * h);\n\n\n    if (visible > fraction) {\n      playVideo();\n    } else {\n      pauseVideo();\n\n    }\n  }\n\n};\n\n\nvar tag = document.createElement('script');\n\ntag.src = \"https://www.youtube.com/iframe_api\";\nvar firstScriptTag = document.getElementsByTagName('script')[0];\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n// 3. This function creates an <iframe> (and YouTube player)\n//    after the API code downloads.\nvar player;\n\nfunction onYouTubeIframeAPIReady() {\n  player = new YT.Player('player', {\n    events: {\n      'onReady': onPlayerReady,\n      'onStateChange': onPlayerStateChange\n    }\n  });\n};\n\n// 4. The API will call this function when the video player is ready.\nfunction onPlayerReady(event) {\n    window.addEventListener('scroll', checkScroll, false);\n    window.addEventListener('resize', checkScroll, false);\n\n    //check at least once so you don't have to wait for scrolling for the    video to start\n    window.addEventListener('load', checkScroll, false);\n};\n\n\nfunction onPlayerStateChange(event) {\n    if (event.data == YT.PlayerState.PLAYING) {\n      //console.log(\"event played\");\n    } else {\n      //console.log(\"event paused\");\n    }\n};\n\nfunction stopVideo() {\n    player.stopVideo();\n};\n\nfunction playVideo() {\n  player.playVideo();\n};\n\nfunction pauseVideo() {\n  player.pauseVideo();\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}